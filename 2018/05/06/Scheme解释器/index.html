<html>
<!-- Head tag -->
<head>
  <meta charset="UTF-8">

  
  <title>
    Scheme è§£é‡Šå™¨ |
    Goods Rank
  </title>
  


  <meta name="description" content="">
  <meta name="author" content="">
  <meta property="og:title" content="Scheme è§£é‡Šå™¨" />
  <meta property="og:description" content="" />
  <meta property='og:site_name' content='Goods Rank' />
  <meta property="og:image" content="https://rank.design/img/default.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:title" content="Scheme è§£é‡Šå™¨" />

  <meta name="twitter:image" content="https://rank.design/img/default.jpg" />

  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous">
  <link rel="stylesheet" href="/./css/style.css">

</head>

<body>
    <!-- Menu -->
    <nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark page-navbar gradient">
  <div class="container">
    <a class="navbar-brand logo" href="https://rank.design">
      Goods Rank</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item item">
          
        <li class="nav-item item">
          <a class="nav-link" href="/">
            Home</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" href="/archives">
            ğŸ—‚ï¸Archives</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" href="https://hexo.io/">
            Hexo</a>
        </li>
        
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="page main-page">
        <div class="container blogPost">
    <div class="row">
        <div class="col-sm-8">
            <h2 class="blog-post-title">
                Scheme è§£é‡Šå™¨
            </h2>
            <p class="meta"><i class="far fa-clock"></i>
                2018-05-06
                
            </p>
            <!-- Content -->
            <p>æœ€è¿‘é‡è¯»ç‹å çš„åšå®¢ï¼Œæ¯å¤©åœ°é“ä¸Šå°±åˆ·ä¸ªä¸€ä¸¤ç¯‡ï¼Œç„¶åå†çœ‹ã€Šç¼–è¯‘åŸç†ã€‹å°±è±ç„¶å¼€æœ—äº†ã€‚ç¢ç£¨ç€<code>Scheme</code>è¯­æ³•ç®€æ´è§„èŒƒï¼Œå‰ç¼€è¡¨è¾¾å¼æ˜¯å¤©ç„¶çš„æ ‘çŠ¶è¯­æ³•ï¼Œå†™ä¸ª<code>Scheme</code>çš„è§£é‡Šå™¨ä¼¼ä¹æ²¡æƒ³è±¡ä¸­é‚£ä¹ˆéš¾äº†ï¼Œä¾¿åŠ¨æ‰‹ç”¨<code>Java</code>å®ç°ä¸€ä¸ª<code>Scheme</code>çš„ç¼–è¯‘å™¨å‰ç«¯ã€‚</p>
<p>æ¨èè¯»ä¸€ä¸‹ç‹å çš„æ–‡ç«  <a href="http://www.yinwang.org/blog-cn/2012/08/01/interpreter" target="_blank" rel="noopener">http://www.yinwang.org/blog-cn/2012/08/01/interpreter</a></p>
<p>ç¼–è¯‘å™¨å‰ç«¯å·¥ä½œä¸€èˆ¬åŒ…æ‹¬ä¸¤ä¸ªå¤§æ­¥éª¤ï¼šè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œå†å°±æ˜¯è§£é‡Šæ‰§è¡Œæˆ–è€…ç”Ÿæˆä¸­é—´ä»£ç ï¼Œå…¶ä¸­è¿˜æœ‰ç¬¦å·è¡¨ï¼ˆæœ‰çš„åœ°æ–¹ä¹Ÿç§°ç¯å¢ƒï¼‰è´¯ç©¿è¿™ä¸¤ä¸ªæ­¥éª¤ï¼Œä¸Šè¿°æ–‡ç« é‡Œçš„ç¬¦å·è¡¨æ˜¯ç”¨å•é“¾è¡¨å®ç°ï¼Œç®€å•æ˜“æ‡‚ï¼Œæ–¹ä¾¿æ•™å­¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¯•ç€ç”¨é“¾å¼å“ˆå¸Œè¡¨å®ç°ã€‚æºç¨‹åºä¸€èˆ¬ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¾“å…¥ï¼Œå¯¹è¾“å…¥å­—ç¬¦é€ä¸ªæ‰«æåˆ†æï¼Œç”ŸæˆæŠ½è±¡è¯­æ³•æ ‘ï¼ˆ<code>abstract syntax tree</code>ï¼‰ï¼Œå†æ ¹æ®æ¯ä¸ªæ ‘èŠ‚ç‚¹çš„ç¬¦å·ã€ç±»å‹å»è¿›è¡Œè¯­æ³•åˆ†æï¼Œè§£é‡Šæ‰§è¡Œå‡ºæœ€åç»“æœã€‚å¦‚æœæ˜¯ç”¨Schemeè‡ªä¸¾çš„è¯ï¼Œè¯æ³•åˆ†æå‡ ä¹ä¸éœ€è¦åšã€‚</p>
<a id="more"></a>
<h4 id="è¯æ³•åˆ†æ"><a href="#è¯æ³•åˆ†æ" class="headerlink" title="è¯æ³•åˆ†æ"></a>è¯æ³•åˆ†æ</h4><p>å¦‚æœæ˜¯å¤æ‚çš„ç¨‹åºï¼Œè¯æ³•åˆ†ææ˜¯éœ€è¦é¢„è¯»åé¢å¤šä¸ªå­—ç¬¦ï¼Œä¹¦ä¸­ä¹Ÿæåˆ°äº†ä¸€äº›é¢„è¯»ç¼“å­˜ä¼˜åŒ–æ–¹æ¡ˆã€‚æˆ‘å¼€å§‹ä¹Ÿå°è¯•ç€ä½¿ç”¨é¢„è¯»åˆ¤æ–­çš„æ–¹æ¡ˆï¼Œ<code>Java</code>ä¸­çš„<code>PushbackInputStream</code>å¯ä»¥æ‰‹åŠ¨å®ç°é¢„è¯»å•ä¸ªå­—ç¬¦ï¼Œä½†å¯¹äºSchemeè¯­è¨€è¿™ä¹ˆè§„æ•´çš„æ ¼å¼ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä¸ç”¨é¢„è¯»ï¼Œé€šè¿‡å¯¹è¾“å…¥å­—ç¬¦ä¸²çš„æ•´ä½“å¤„ç†ï¼ŒæŒ‰ç©ºæ ¼åˆ†å¼€ï¼Œç”Ÿæˆæœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<blockquote>
<p>å¯¹äºâ€(+â€ä¸­æ²¡æœ‰ç©ºæ ¼çš„æƒ…å†µï¼Œå‚è€ƒ <a href="https://github.com/jpdong/pytudes/blob/master/py/lis.py" target="_blank" rel="noopener">https://github.com/jpdong/pytudes/blob/master/py/lis.py</a> ä¸­çš„æ–¹å¼ï¼Œå¯ä»¥å…ˆå°†â€(â€œæ›¿æ¢æˆâ€ ( â€œï¼Œå‰ååˆ†åˆ«æ·»åŠ ç©ºæ ¼è§£å†³ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">private List&lt;Type&gt; parse(String program) &#123;</span><br><span class="line">        Queue&lt;String&gt; queue = tokenize(program);</span><br><span class="line">        List&lt;Type&gt; astList = new ArrayList&lt;&gt;();</span><br><span class="line">        while (!queue.isEmpty()) &#123;</span><br><span class="line">            astList.add(readFromTokens(queue));</span><br><span class="line">        &#125;</span><br><span class="line">        return astList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private Queue&lt;String&gt; tokenize(String s) &#123;</span><br><span class="line">        String string = s.replace(&quot;(&quot;, &quot; ( &quot;).replace(&quot;)&quot;, &quot; ) &quot;);</span><br><span class="line">        String[] strings = string.split(&quot;\\s+&quot;);</span><br><span class="line">        Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();</span><br><span class="line">        for (int i = 0; i &lt; strings.length; i++) &#123;</span><br><span class="line">            if (!&quot;&quot;.equals(strings[i])) &#123;</span><br><span class="line">                queue.offer(strings[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return queue;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¯­æ³•åˆ†æ"><a href="#è¯­æ³•åˆ†æ" class="headerlink" title="è¯­æ³•åˆ†æ"></a>è¯­æ³•åˆ†æ</h4><p><img src="/images/ast.png" alt=""></p>
<p>å¯¹äºæ¯ä¸€ä¸ªæ‹¬å·å¯¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹åšæ˜¯æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å’ŒäºŒå‰æ ‘ç•¥æœ‰ä¸åŒçš„æ˜¯ï¼Œçˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹çš„ä¸ªæ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦é€šè¿‡è¯­æ³•åˆ†ææœ€ç»ˆå†³å®šï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ç”¨æ•°ç»„å…¨éƒ¨å­˜ä¸‹æ¥ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">private Type readFromTokens(Queue&lt;String&gt; tokens) &#123;</span><br><span class="line">        if (tokens.isEmpty()) &#123;</span><br><span class="line">            throw new RuntimeException(&quot;unexpected end while reading&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            String s = tokens.poll();</span><br><span class="line">            if (s.equals(&quot;(&quot;)) &#123;</span><br><span class="line">                Node node = new Node();</span><br><span class="line">                while (!&quot;)&quot;.equals(tokens.peek())) &#123;</span><br><span class="line">                    node.list.add(readFromTokens(tokens));</span><br><span class="line">                &#125;</span><br><span class="line">                tokens.poll();</span><br><span class="line">                return node;</span><br><span class="line">            &#125; else if (&quot;)&quot;.equals(s)) &#123;</span><br><span class="line">                throw new RuntimeException(&quot;unexpected ) while reading&quot;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                return atom(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>æ‹¬å·å¯¹é‡Œçš„å•ä¸ªå…ƒç´ å½“ä½œåŸºç¡€ç±»å‹å¤„ç†ï¼Œç›®å‰æ¶‰åŠåˆ°å¸ƒå°”å‹ï¼ˆ<code>Bool</code>ï¼‰ã€æ•´æ•°å‹ï¼ˆ<code>Int</code>ï¼‰ã€å­—ç¬¦å‹ï¼ˆ<code>Char</code>ï¼‰ã€å­—ç¬¦ä¸²å‹ï¼ˆ<code>Str</code>ï¼‰,è¿™é‡Œæˆ‘ä»¬æŠŠå‡½æ•°ä¹Ÿçœ‹åšç±»å‹ï¼Œå‡½æ•°å‹ï¼ˆ<code>Func</code>ï¼‰ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private Type atom(String s) &#123;</span><br><span class="line">        if (isMatchChar(s)) &#123;</span><br><span class="line">            return new Char(s.charAt(2));</span><br><span class="line">        &#125; else if (isMatchString(s)) &#123;</span><br><span class="line">            return new Str(s.substring(1,s.length()-1));</span><br><span class="line">        &#125; else if (isInt(s)) &#123;</span><br><span class="line">            return new Int(Integer.valueOf(s));</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return new Symbol(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>è¯­æ³•åˆ†æå°±æ˜¯å°†ä»£ç å­—ç¬¦ä¸²å¤„ç†æˆæ•°æ®ç»“æ„æŠ½è±¡è¯­æ³•æ ‘ï¼Œåªæ¶‰åŠåˆ°å¸¸ç”¨çš„å­—ç¬¦ä¸²å¤„ç†å’Œä¸€äº›ç®€å•çš„æ­£åˆ™åŒ¹é…ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦å¯¹è¯­æ³•æ ‘è¿›è¡Œè¯­è¨€ç‰¹æ€§ä¸Šçš„å®ç°ã€‚</p>
<h4 id="ç¬¦å·è¡¨"><a href="#ç¬¦å·è¡¨" class="headerlink" title="ç¬¦å·è¡¨"></a>ç¬¦å·è¡¨</h4><p>åœ¨è¯­è¨€ç‰¹æ€§åˆ†æä¹‹å‰ï¼Œå…ˆè¯´ä¸€ä¸‹ç¬¦å·è¡¨ã€‚</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œç¬¦å·è¡¨æ˜¯ä¸€ç§ç”¨äºè¯­è¨€ç¿»è¯‘å™¨ï¼ˆä¾‹å¦‚ç¼–è¯‘å™¨å’Œè§£é‡Šå™¨ï¼‰ä¸­çš„æ•°æ®ç»“æ„ã€‚åœ¨ç¬¦å·è¡¨ä¸­ï¼Œç¨‹åºæºä»£ç ä¸­çš„æ¯ä¸ªæ ‡è¯†ç¬¦éƒ½å’Œå®ƒçš„å£°æ˜æˆ–ä½¿ç”¨ä¿¡æ¯ç»‘å®šåœ¨ä¸€èµ·ï¼Œæ¯”å¦‚å…¶æ•°æ®ç±»å‹ã€ä½œç”¨åŸŸä»¥åŠå†…å­˜åœ°å€ã€‚</p>
</blockquote>
<p>å¯ä»¥ç®€å•ç†è§£ä¸ºå¯¹å½“å‰ä»£ç ç¯å¢ƒçš„å®ç°ï¼Œå¤šç”¨äºæŸ¥æ‰¾å˜é‡ã€‚æœ€ç®€å•çš„å¯ä»¥ç”¨å•é“¾è¡¨å®ç°ï¼Œä½†é“¾è¡¨æŸ¥æ‰¾æ•ˆç‡å¾ˆä½ï¼Œé“¾å¼å“ˆå¸Œè¡¨æ˜¯ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚<br><img src="/images/scheme_env.png" alt=""><br>å¦‚å›¾æ‰€ç¤ºï¼Œæ¯è¿›å…¥ä¸€ä¸ªå‡½æ•°åŸŸï¼Œæˆ–è€…æ˜¯æ¯æ¬¡å£°æ˜å±€éƒ¨å˜é‡ï¼Œéƒ½ä¼šæ–°å»ºä¸€ä¸ªç¬¦å·è¡¨ï¼Œä½œä¸ºå½“å‰çš„è®¡ç®—ç¯å¢ƒï¼Œå¹¶å­˜å‚¨ä¸Šä¸€ä¸ªç¯å¢ƒçš„åœ°å€ã€‚åœ¨éœ€è¦æŸ¥æ‰¾ç¬¦å·è¡¨çš„æ—¶å€™ï¼Œå…ˆåœ¨å½“å‰ç¯å¢ƒæŸ¥æ‰¾ï¼Œæ‰¾ä¸åˆ°å†åˆ°å‰ä¸€ä¸ªç¯å¢ƒä¸­æŸ¥æ‰¾ã€‚æ¯ä¸ªåŸŸéƒ½åªä¿å­˜è‡ªå·±çš„ç¯å¢ƒåœ°å€ï¼Œæ‰€ä»¥ä¸ä¼šå½±å“åˆ°å…¶å®ƒåŸŸçš„ä½¿ç”¨ã€‚</p>
<h4 id="è§£é‡Šæ‰§è¡Œ"><a href="#è§£é‡Šæ‰§è¡Œ" class="headerlink" title="è§£é‡Šæ‰§è¡Œ"></a>è§£é‡Šæ‰§è¡Œ</h4><p>ç”±äºæ²¡æœ‰åšå°¾é€’å½’ä¼˜åŒ–ï¼Œå¾ˆå®¹æ˜“å°±æ ˆæº¢å‡ºäº†ï¼Œåœ¨è¿™é‡Œèƒ½ç”¨å¾ªç¯å°±å°½é‡ç”¨å¾ªç¯ã€‚<br>åˆ†åˆ«å¯¹<code>Scheme</code>ä¸­çš„æ“ä½œç¬¦ä½œå¤„ç†ã€‚</p>
<ul>
<li><p><code>quote</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (&quot;quote&quot;.equals(symbol.id)) &#123;</span><br><span class="line">                return list.get(1);</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>if</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">if (&quot;if&quot;.equals(symbol.id)) &#123;</span><br><span class="line">                Node test = (Node) list.get(1);</span><br><span class="line">                Type trueBody = list.get(2);</span><br><span class="line">                Type falseBody = list.get(3);</span><br><span class="line">                Bool result = (Bool) eval(test, env);</span><br><span class="line">                if (result.value) &#123;</span><br><span class="line">                    ast = trueBody;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    ast = falseBody;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>let</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">if (&quot;let&quot;.equals(symbol.id)) &#123;</span><br><span class="line">                Node field = (Node) list.get(1);</span><br><span class="line">                Type body = list.get(2);</span><br><span class="line">                EnvFrame extEnv = new EnvFrame(env);</span><br><span class="line">                for (int i = 0; i &lt; field.typeList.size(); i++) &#123;</span><br><span class="line">                    Node pair = (Node) field.typeList.get(i);</span><br><span class="line">                    Symbol s = (Symbol) pair.typeList.get(0);</span><br><span class="line">                    Type result = eval(pair.typeList.get(1), extEnv);</span><br><span class="line">                    extEnv.put(s.id, result);</span><br><span class="line">                &#125;</span><br><span class="line">                ast = body;</span><br><span class="line">                env = extEnv;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>define</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if (&quot;define&quot;.equals(symbol.id)) &#123;</span><br><span class="line">                Symbol s = (Symbol) list.get(1);</span><br><span class="line">                Type type = list.get(2);</span><br><span class="line">                env.frameMap.put(s.id, eval(type, env));</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>lambda</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (&quot;lambda&quot;.equals(symbol.id)) &#123;</span><br><span class="line">                Node parms = (Node) list.get(1);</span><br><span class="line">                Node body = (Node) list.get(2);</span><br><span class="line">                return new Procedure(parms, body, env, this);</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>cond</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if (&quot;cond&quot;.equals(symbol.id)) &#123;</span><br><span class="line">                Node elseCase = (Node) list.get(list.size() - 1);</span><br><span class="line">                Symbol elseTag = (Symbol) elseCase.typeList.get(0);</span><br><span class="line">                if (!&quot;else&quot;.equals(elseTag.id)) &#123;</span><br><span class="line">                    throw new RuntimeException(&quot;wrong cond case&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">                Type tempAst = elseCase.typeList.get(1);</span><br><span class="line">                for (int i = 1; i &lt; list.size() - 1; i++) &#123;</span><br><span class="line">                    Node currentCase = (Node) list.get(i);</span><br><span class="line">                    Type predicate = currentCase.typeList.get(0);</span><br><span class="line">                    if (((Bool) eval(predicate, env)).value) &#123;</span><br><span class="line">                        tempAst = currentCase.typeList.get(1);</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                ast = tempAst;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å®Œæ•´ä»£ç è§é¡¹ç›® <a href="https://github.com/jpdong/SchemeInterpreter" target="_blank" rel="noopener">https://github.com/jpdong/SchemeInterpreter</a></p>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>å¤§å­¦çš„æ—¶å€™å¯¹ç¼–è¯‘åŸç†è¿™é—¨è¯¾æ˜¯æœ›è€Œç”Ÿç•ï¼Œå½“æ—¶ä¹Ÿæ²¡æœ‰æ¥è§¦åˆ°<code>Scheme</code>è¿™ä¹ˆç®€æ´çš„è¯­è¨€ï¼Œå­¦å®Œäº†å¯¹ç¼–è¯‘å™¨ä¹Ÿæ²¡æœ‰æ¦‚å¿µã€‚ç°åœ¨å›çœ‹ï¼Œæœ‰äº†äº›ä¸åŒè¯­è¨€çš„ç§¯ç´¯ï¼Œå¼€å§‹æ¸æ¸åœ°èƒ½ç†è§£é‚£äº›æ¦‚å¿µäº†ï¼Œè¾¹å®ç°è¾¹ç†è§£ï¼Œå°±èƒ½è±ç„¶å¼€æœ—äº†ã€‚è™½ç„¶è¿™åªæ˜¯å®ç°äº†ä¸€ä¸ªç®€å•è¯­è¨€çš„ç¼–è¯‘å™¨å‰ç«¯ï¼ŒçœŸæ­£çš„ç²¾åè¿˜åœ¨åé¢åç«¯çš„å®ç°ä¸ä¼˜åŒ–ï¼Œä½†è¿™æ˜¯ä»é›¶åˆ°ä¸€çš„è¿‡ç¨‹ï¼Œåé¢è¿˜éœ€è¦ä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œå­¦ä¹ é‚£äº›æœ¬è´¨çš„ä¸œè¥¿ã€‚</p>

            <br />
            <p class="meta">
                

<a href="/tags/Java/"> <i class="fas fa-tags"></i>
    Java </a>

            </p>
        </div>

        <div class="col-sm-4">
            

<span><b>
        TL;DR</b></span>
<p>
    Yet another hexo theme.
</p>
<hr />


<span><b>
        TL;DR 2</b></span>
<p>
    No, not another one :/
</p>
<hr />






<span><a href="https://twitter.com/hexojs" target="_blank" rel="noopener"><b><i class="fab fa-twitter-square"></i>
            <i class="fas fa-at"></i>
            hexojs</b></a></span>
<br />
<a class="twitter-timeline" data-height="800" data-dnt="true" data-chrome="nofooter transparent noheader noborders "
    href="https://twitter.com/hexojs?ref_src=twsrc%5Etfw"></a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

        </div>
    </div>
</div>
<!-- Menu fade on scroll -->
<script>
    var isScrolling;
    var prevScrollpos = window.pageYOffset;
    window.addEventListener('scroll', function (event) {
        window.clearTimeout(isScrolling);
        isScrolling = setTimeout(function () {
            var currentScrollPos = window.pageYOffset;
            if (prevScrollpos > currentScrollPos) {
                $("#navbar").slideDown();
            } else {
                $("#navbar").slideUp();
            }
            prevScrollpos = currentScrollPos;
        }, 66);
    }, false);
</script>

<a class="float-left gradient btn paginationbtn" href="/2018/04/26/å°¾é€’å½’çš„éª—å±€/"><i class="fas fa-chevron-left"></i></a>


<a class="float-right gradient btn paginationbtn" href="/2018/05/16/é€†è½¬USBç½‘ç»œå…±äº«/"><i class="fas fa-chevron-right"></i></a>

    </main>
    <!-- Footer -->
    <footer class="page-footer">
  <div class="container">
    <div class="social-icons">
      
      <a href="https://hexo.io/" title="Hexo.io" target="_blank" rel="noopener" class="fas fa-home"></a>
      
      <a href="https://twitter.com/hexojs" title="@hexojs" target="_blank" rel="noopener" class="fab fa-twitter"></a>
      
      <a href="https://github.com/RandomAdversary/Gradient/issues" title="Report issue" target="_blank" rel="noopener" class="fas fa-bug"></a>
      
    </div>
  </div>
</footer>
    <!-- After footer scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
</body>

</html>